20200106 문제점 

현 사이트가 작년 기준으로 되어있어서 해가 바뀌었을때
제대로 업데이트가 안되는 문제점이 있음

- 조직도 : 2020년, 2021년이 나눠져서 안뜸 --> selectYear로 선택한 년도에 해당하는 멤버를 불러오게 수정   

- 스케줄 관리자 : 년도를 구분하지 않고 manager_스케줄에 있는 id 와 같은 member id만 가져와서 2020,2021년에 등록된 id가 2020년 2021년에 등록된 ,id 두개가  모두 뜨는 문제점, 해당 년도의 id만 떠야됌! -->  id를 받아올 때 현재 year도 같이 받아와서 해결

- 스케줄 관리자 이름별 목록 순위 문제

- 스케줄 프로젝트  null 문제 : projectList와 teamList의 리스트 목록이 다름(현재 projectList는 2021년도에 삭제된 바디힐스가 존재 but, teamList는 2021년에는 없으므로 해쉬맵에서 projectList에 해당하는 value 값을 받아올 수 없음, 즉 받아올 값이 없어서 null pointer 문제 ) 

- 관리자 페이지 회원 등록 :
  * 회원 등록하는 경우 2가지
      > 1. rank_period에 id가 존재하지 않는 새로운 이용자 
      > 2. rankl_period에 id가 존재하는 기존 이용자가 직급 변        경한 경우
          >> 2-1 직급 변경 유무 확인 방법 : rank_period에 들어가있는 해당 id의 직급들 중 정렬을 해서 가장 최근의 rank와 현재 입력한 rank 다를 경우 
          >> 2-2 전 직급이 종료되어 있는 경우에 한해서만 등록 가능 (End가 now가 아닌 날짜가 적혀있는 경우!) 
              ※ 전 직급이 종료되어 있지 않은 경우 전 직급을 종료하고 오라는 알림창을 띄움<-- 실장님이 직접 하시도록 ※

cf) 외부 인력 직급 어떻게 할 것인지



Q. 2020년 조직도 로직 

1) memchart.jsp에서  String 형 nowYear 변수(30줄)에 selec선택 년도 값(selectYear)을 지정 (ex) 2020년을 선택했다면, String nowYear = 2020;)

2) memchart.jsp  조직도의 member를 받아오는 함수의 인자값으로(44줄) 위에서 지정해준 nowYear 값을 넣어줌. 이때. 인자값은 정수형이여야 하므로 문자열을 숫자로 변환시켜 넣어주기 위해 Integer.parseInt를 사용  

3) 해당 연도의 멤버를 받아오기 위해 MemDAO.java에 정의된 getMemberDataWithoutOut함수에서(127줄) String nowYear 변수에 매개변수(함수 내에 전달된 인자 값)를 숫자를 문자열로 변환하여 저장. 

4) 그 nowYear를 DB에서 찾을 때 조건으로 주어 해당 연도의 멤버를 멤버테이블에서 받아옴 (136줄 뒤에 a.Year = nowYear 이 부분이 쓰이는 부분임)

rank에 넣었을때 
-동기화시 문제(동기화시 매번 바꿔야함)
-rank_period에 계속 쌓인다

직책에 추가시 
-실장 이라는 직책이 사라짐

table을 따로 만들면 
-단가 계산이 복잡
-쿼리문 바꿔야됨








